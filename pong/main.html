<html>
<body>
<canvas width="300" height="200" id="canvas">
</canvas>

<script>
    var i,j;
    var play ;
    var poziom,pion;
    var pozX, pozY;//pozycja myszki
    var kierunekX, kierunekY;
    var krokX;
    function draw() {
        var canvas = document.getElementById('canvas');
        if (canvas.getContext) {
            var c = canvas.getContext('2d');
            c.clearRect(0,0,300, 200);
            c.fillRect(i,j,10,10); //i, j to wspolrzedna lewego gornego rogu pilki
            c.fillRect(pozX-25,180,50,10);//rysowanie paletki

            //odbicie od rantu paletki

            if (j==185 && i>=pozX-25 && i<=pozX-15){//jest to wykrycie lewego fragmentu paletki
                krokX=3;//uderzenie po lewej krok=3 co przyspiesza calosc
                kierunekY="wGore";

            }
            //odbicie od srodka paletki
            if (j==185  && i>=pozX-15 && i<=pozX+15){//srodek paletki
                krokX=1;//srodek a zatem spowolnienie ruchu
                kierunekY="wGore";
            }
            //odbicie od prawej krawedzi
            if (j==185 && i>=pozX+15 && i<=pozX+25){//prawa strona paletki
                krokX=3;//uderzenie po prawej ponownie zwiekszenie predkosci ruchu pilki
                kierunekY="wGore";
            }


            if (j>188){//koniec gry
                //odpowiednia reakcja, wedle upodoban

            }

            if (kierunekX=="wPrawo"){
                i+=krokX;// odbicie spowoduje przyspieszenie o krokX
                //trzeba dodac kierunek w lewo oraz ruch gora-dol
            }
            if (kierunekX=="wLewo"){
                i-=krokX;
            }
        }





    }

    function play(){
        kierunekX="wPrawo";

        i=0;
        j=0;
        krokX=1;
        play = setInterval('draw()',10);
    }

    function pozycjaMyszki(e) {
        pozX = 0;
        pozY = 0;
        if (!e) var e = window.event;
        if (e.pageX || e.pageY) {
            pozX = e.pageX;
            pozY = e.pageY;
        } else if (e.clientX || e.clientY) {
            pozX = e.clientX + document.body.scrollLeft;
            pozY = e.clientY + document.body.scrollTop;
        }
        document.getElementById("text").innerHTML=pozX;
        document.getElementById("text2").innerHTML=pozY;
        return {pozX,pozY}
    }


    document.onmousemove = function(e){
        pozycjaMyszki(e);
    }
</script>
<button onClick="play()">Play</button>

<div id="text">pozycja</div>
<div id="text2">pozycja</div>
</body>
</html>